!function(e){e.fn.formToWizard=function(t,n){function u(){t=e(s).data("options"),a={GotoStep:function(t){var n="step"+--t;if(void 0===e("#"+n)[0])throw"Step No "+t+" not found!";"none"===e("#"+n).css("display")&&(e(s).find(".stepDetails").hide(),e("#"+n).show(),c(t))},NextStep:function(){e(".stepDetails:visible").find("a.next").click()},PreviousStep:function(){e(".stepDetails:visible").find("a.prev").click()}}}function l(n){var s="step"+n;e("#"+s+"commands").append("<"+t.buttonTag+' href="#" id="'+s+'Prev" class="'+t.prevBtnClass+'">'+t.prevBtnName+"</"+t.buttonTag+">"),e("#"+s+"Prev").bind("click",function(t){return e("#"+s).hide(),e("#step"+(n-1)).show(),c(n-1),!1})}function m(n){var i="step"+n;e("#"+i+"commands").append("<"+t.buttonTag+' href="#" id="'+i+'Next" class="'+t.nextBtnClass+'">'+t.nextBtnName+"</"+t.buttonTag+">"),e("#"+i+"Next").bind("click",function(o){return t.validateBeforeNext(s,e("#"+i))===!0&&(e("#"+i).hide(),e("#step"+(n+1)).show(),c(n+1)),!1})}function c(n){"function"==typeof t.progress?t.progress(n,o):t.showProgress&&(e("#steps li").removeClass("current"),e("#stepDesc"+n).addClass("current")),t.select&&t.select(s,e("#step"+n))}if(0==this.length)return this;"string"!=typeof t&&(t=e.extend({submitButton:"",showProgress:!0,showStepNo:!0,validateBeforeNext:null,select:null,progress:null,nextBtnName:"Avan√ßar",prevBtnName:"Voltar",buttonTag:"a",nextBtnClass:"btn next",prevBtnClass:"btn prev"},t));var s=this,i=e(s).find("fieldset"),o=i.length,r="#"+t.submitButton,a=null;if("string"!=typeof t)e(s).data("options",t),"function"!=typeof t.validateBeforeNext&&(t.validateBeforeNext=function(){return!0}),t.showProgress&&"function"!=typeof t.progress&&(t.showStepNo?e(s).before("<ul id='steps' class='steps'></ul>"):e(s).before("<ul id='steps' class='steps breadcrumb'></ul>")),i.each(function(n){e(this).wrap('<div id="step'+n+'" class="stepDetails"></div>'),e(this).append('<p id="step'+n+'commands" class="commands"></p>'),t.showProgress&&"function"!=typeof t.progress&&(t.showStepNo?e("#steps").append("<li id='stepDesc"+n+"'>Step "+(n+1)+"<span>"+e(this).find("legend").html()+"</span></li>"):e("#steps").append("<li id='stepDesc"+n+"'>"+e(this).find("legend").html()+"</li>")),0==n?(m(n),c(n)):n==o-1?(e("#step"+n).hide(),l(n),e(r).addClass("next").detach().appendTo("#step"+n+"commands")):(e("#step"+n).hide(),l(n),m(n))});else if("string"==typeof t){var p=t;if(u(),"function"!=typeof a[p])throw p+" is invalid command!";a[p](n)}return this}}(jQuery);